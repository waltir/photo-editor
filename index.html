<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Image Editor</title>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/camanjs/4.1.2/caman.full.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"/>
    <link rel="stylesheet" href="./css/style.css"/>

    <style>
        /*! normalize.css v8.0.0 | MIT License | github.com/necolas/normalize.css */
/* Document
   ========================================================================== */
/**
 * 1. Correct the line height in all browsers.
 * 2. Prevent adjustments of font size after orientation changes in iOS.
 */
html {
  line-height: 1.15;
  /* 1 */
  -webkit-text-size-adjust: 100%;
  /* 2 */ }

/* Sections
     ========================================================================== */
/**
   * Remove the margin in all browsers.
   */
body {
  margin: 0; }

/**
   * Correct the font size and margin on `h1` elements within `section` and
   * `article` contexts in Chrome, Firefox, and Safari.
   */
h1 {
  font-size: 2em;
  margin: 0.67em 0; }

/* Grouping content
     ========================================================================== */
/**
   * 1. Add the correct box sizing in Firefox.
   * 2. Show the overflow in Edge and IE.
   */
hr {
  box-sizing: content-box;
  /* 1 */
  height: 0;
  /* 1 */
  overflow: visible;
  /* 2 */ }

/**
   * 1. Correct the inheritance and scaling of font size in all browsers.
   * 2. Correct the odd `em` font sizing in all browsers.
   */
pre {
  font-family: monospace, monospace;
  /* 1 */
  font-size: 1em;
  /* 2 */ }

/* Text-level semantics
     ========================================================================== */
/**
   * Remove the gray background on active links in IE 10.
   */
a {
  background-color: transparent; }

/**
   * 1. Remove the bottom border in Chrome 57-
   * 2. Add the correct text decoration in Chrome, Edge, IE, Opera, and Safari.
   */
abbr[title] {
  border-bottom: none;
  /* 1 */
  text-decoration: underline;
  /* 2 */
  text-decoration: underline dotted;
  /* 2 */ }

/**
   * Add the correct font weight in Chrome, Edge, and Safari.
   */
b,
strong {
  font-weight: bolder; }

/**
   * 1. Correct the inheritance and scaling of font size in all browsers.
   * 2. Correct the odd `em` font sizing in all browsers.
   */
code,
kbd,
samp {
  font-family: monospace, monospace;
  /* 1 */
  font-size: 1em;
  /* 2 */ }

/**
   * Add the correct font size in all browsers.
   */
small {
  font-size: 80%; }

/**
   * Prevent `sub` and `sup` elements from affecting the line height in
   * all browsers.
   */
sub,
sup {
  font-size: 75%;
  line-height: 0;
  position: relative;
  vertical-align: baseline; }

sub {
  bottom: -0.25em; }

sup {
  top: -0.5em; }

/* Embedded content
     ========================================================================== */
/**
   * Remove the border on images inside links in IE 10.
   */
img {
  border-style: none; }

/* Forms
     ========================================================================== */
/**
   * 1. Change the font styles in all browsers.
   * 2. Remove the margin in Firefox and Safari.
   */
button,
input,
optgroup,
select,
textarea {
  font-family: inherit;
  /* 1 */
  font-size: 100%;
  /* 1 */
  line-height: 1.15;
  /* 1 */
  margin: 0;
  /* 2 */ }

/**
   * Show the overflow in IE.
   * 1. Show the overflow in Edge.
   */
button,
input {
  /* 1 */
  overflow: visible; }

/**
   * Remove the inheritance of text transform in Edge, Firefox, and IE.
   * 1. Remove the inheritance of text transform in Firefox.
   */
button,
select {
  /* 1 */
  text-transform: none; }

/**
   * Correct the inability to style clickable types in iOS and Safari.
   */
button,
[type="button"],
[type="reset"],
[type="submit"] {
  -webkit-appearance: button; }

/**
   * Remove the inner border and padding in Firefox.
   */
button::-moz-focus-inner,
[type="button"]::-moz-focus-inner,
[type="reset"]::-moz-focus-inner,
[type="submit"]::-moz-focus-inner {
  border-style: none;
  padding: 0; }

/**
   * Restore the focus styles unset by the previous rule.
   */
button:-moz-focusring,
[type="button"]:-moz-focusring,
[type="reset"]:-moz-focusring,
[type="submit"]:-moz-focusring {
  outline: 1px dotted ButtonText; }

/**
   * Correct the padding in Firefox.
   */
fieldset {
  padding: 0.35em 0.75em 0.625em; }

/**
   * 1. Correct the text wrapping in Edge and IE.
   * 2. Correct the color inheritance from `fieldset` elements in IE.
   * 3. Remove the padding so developers are not caught out when they zero out
   *    `fieldset` elements in all browsers.
   */
legend {
  box-sizing: border-box;
  /* 1 */
  color: inherit;
  /* 2 */
  display: table;
  /* 1 */
  max-width: 100%;
  /* 1 */
  padding: 0;
  /* 3 */
  white-space: normal;
  /* 1 */ }

/**
   * Add the correct vertical alignment in Chrome, Firefox, and Opera.
   */
progress {
  vertical-align: baseline; }

/**
   * Remove the default vertical scrollbar in IE 10+.
   */
textarea {
  overflow: auto; }

/**
   * 1. Add the correct box sizing in IE 10.
   * 2. Remove the padding in IE 10.
   */
[type="checkbox"],
[type="radio"] {
  box-sizing: border-box;
  /* 1 */
  padding: 0;
  /* 2 */ }

/**
   * Correct the cursor style of increment and decrement buttons in Chrome.
   */
[type="number"]::-webkit-inner-spin-button,
[type="number"]::-webkit-outer-spin-button {
  height: auto; }

/**
   * 1. Correct the odd appearance in Chrome and Safari.
   * 2. Correct the outline style in Safari.
   */
[type="search"] {
  -webkit-appearance: textfield;
  /* 1 */
  outline-offset: -2px;
  /* 2 */ }

/**
   * Remove the inner padding in Chrome and Safari on macOS.
   */
[type="search"]::-webkit-search-decoration {
  -webkit-appearance: none; }

/**
   * 1. Correct the inability to style clickable types in iOS and Safari.
   * 2. Change font properties to `inherit` in Safari.
   */
::-webkit-file-upload-button {
  -webkit-appearance: button;
  /* 1 */
  font: inherit;
  /* 2 */ }

/* Interactive
     ========================================================================== */
/*
   * Add the correct display in Edge, IE 10+, and Firefox.
   */
details {
  display: block; }

/*
   * Add the correct display in all browsers.
   */
summary {
  display: list-item; }

/* Misc
     ========================================================================== */
/**
   * Add the correct display in IE 10+.
   */
template {
  display: none; }

/**
   * Add the correct display in IE 10.
   */
[hidden] {
  display: none; }

.nav-top {
  list-style: none;
  margin: 0;
  background: white;
  color: #0076FF;
  font-weight: 100;
  font-size: 14px;
  display: -webkit-box;
  display: -moz-box;
  display: -ms-flexbox;
  display: -webkit-flex;
  display: flex;
  -webkit-flex-flow: row wrap;
  justify-content: center;
  margin-top: 0px; }

.nav-top > a:hover {
  color: darkblue;
  border-style: solid;
  border-width: 0px 0px 5px 0px;
  color: #0076FF;
  font-weight: 100;
  font-size: 14px; }

.nav-top.logo {
  justify-content: center; }

.nav-top_sub {
  padding: 15px;
  justify-content: flex-end; }

.nav-side {
  display: flex column;
  float: left;
  background-color: #FAFBFD;
  box-shadow: 1px 1px 15px 1px rgba(0, 0, 0, 0.1);
  padding: 0px;
  height: 100vh;
  position: fixed;
  top: 0; }

.fa {
  color: #BFC4D1;
  padding-top: 5px;
  padding-bottom: 5px;
  font-size: 20px; }

.fa.fa-square-o {
  font-size: 14px; }

.fa.fa-square {
  font-size: 14px; }

.fa:hover {
  color: #0076FF; }

.sidenav {
  height: 100%;
  width: 0;
  position: fixed;
  z-index: 1;
  top: 0;
  left: 0;
  background-color: #f6f8fc;
  box-shadow: 1px 1px 15px 1px rgba(0, 0, 0, 0.1);
  overflow-x: hidden;
  transition: 0.7s;
  padding-top: 30px; }

.sidenav a {
  padding: 8px 8px 8px 32px;
  text-decoration: none;
  font-size: 25px;
  color: #818181;
  display: block;
  transition: 0.3s; }

.sidenav a:hover {
  color: #f1f1f1; }

.sidenav .closebtn {
  position: absolute;
  top: 0;
  right: 0;
  font-size: 25px;
  margin-left: 50px;
  color: black; }

.sidenav .closebtn:hover {
  color: #0076FF; }

.mobileMenuBtn {
  display: flex column;
  align-content: flex-start;
  padding: 20px; }

@media screen and (max-height: 450px) {
  .sidenav {
    padding-top: 15px; }
  .sidenav a {
    font-size: 18px; } }

@media screen and (max-width: 850px) {
  #mobileMenu {
    display: none;
    background-color: red; }
  .mobileMenuBtn {
    display: block; }
  .mobileMenuCloseBtn {
    display: block; } }

@media screen and (min-width: 851px) {
  .mobileMenuBtn {
    display: none; }
  .mobileMenuCloseBtn {
    display: none; } }

.aboutNav {
  height: 0%;
  width: 100%;
  position: fixed;
  z-index: 1;
  left: 0;
  bottom: 0;
  background-color: black;
  color: white;
  overflow-y: hidden;
  transition: 0.7s; }

.nav-logo {
  font-family: Helvetica;
  font-weight: 100;
  font-size: 30px;
  color: #0076FF; }

.nav-bottom {
  position: fixed;
  margin: 0 auto;
  display: flex row center;
  align-self: auto center;
  bottom: 0;
  text-align: center;
  align-content: center; }

.nav-bottom_items {
  margin: 0 auto;
  display: flex row center;
  align-self: auto center; }

p.nav-bottom_items {
  font-size: 8px;
  margin-left: 20px;
  margin-bottom: 10px; }

.aboutNav a.closebtn {
  position: absolute;
  top: 0;
  right: 0;
  margin: 25px;
  font-size: 30px; }

.slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 23px;
  height: 24px;
  border: 0;
  background: url("contrasticon.png");
  cursor: pointer; }

.slider::-moz-range-thumb {
  width: 23px;
  height: 25px;
  border: 0;
  background: url("contrasticon.png");
  cursor: pointer; }

*, *:before, *:after {
  box-sizing: border-box; }

.range-slider {
  width: 100%;
  padding-right: 8px;
  padding-left: 8px; }

.range-slider__range {
  -webkit-appearance: none;
  width: calc(100% - (53px));
  height: 10px;
  border-radius: 5px;
  background: #d7dcdf;
  outline: none;
  padding: 0;
  margin: 0; }
  .range-slider__range::-webkit-slider-thumb {
    appearance: none;
    width: 30px;
    height: 30px;
    border-radius: 50%;
    background: #2c3e50;
    cursor: pointer;
    transition: background .15s ease-in-out; }
    .range-slider__range::-webkit-slider-thumb:hover {
      background: #0076FF; }
  .range-slider__range:active::-webkit-slider-thumb {
    background: #0076FF; }
  .range-slider__range::-moz-range-thumb {
    width: 30px;
    height: 30px;
    border: 0;
    border-radius: 50%;
    background: #2c3e50;
    cursor: pointer;
    transition: background .15s ease-in-out; }
    .range-slider__range::-moz-range-thumb:hover {
      background: #0076FF; }
  .range-slider__range:active::-moz-range-thumb {
    background: #0076FF; }
  .range-slider__range:focus::-webkit-slider-thumb {
    box-shadow: 0 0 0 3px #fff, 0 0 0 6px #0076FF; }

.range-slider__value {
  display: inline-block;
  position: relative;
  width: 40px;
  color: #fff;
  line-height: 20px;
  text-align: center;
  border-radius: 3px;
  background: #0076FF;
  padding: 5px 10px;
  margin-left: 8px;
  font-size: 10px;
  font-weight: 100; }
  .range-slider__value:after {
    position: absolute;
    top: 8px;
    left: -7px;
    width: 0;
    height: 0;
    border-top: 7px solid transparent;
    border-right: 7px solid #0076FF;
    border-bottom: 7px solid transparent;
    content: ''; }

::-moz-range-track {
  background: #d7dcdf;
  border: 0; }

input::-moz-focus-inner,
input::-moz-focus-outer {
  border: 0; }

.range-slider > label {
  margin-bottom: -5px;
  margin-top: 5px;
  font-size: 12px;
  font-weight: 100;
  width: 100%;
  float: left;
  text-align: left; }

.range-group {
  width: 100%; }

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  outline: none; }

.gulp-test {
  color: #0076FF;
  font-family: Arial, Helvetica, sans-serif;
  font-weight: 100 !important; }

body {
  text-align: center;
  margin: 20px auto;
  background-color: white;
  font-family: Arial, Helvetica, sans-serif; }

[type="file"] {
  display: none; }

[type="file"] + label {
  margin: 10px 4px;
  background: #673ab7;
  border: none;
  color: white;
  cursor: pointer;
  font-family: Arial, Helvetica, sans-serif;
  padding: 8px 12px;
  border-radius: 4px;
  display: inline-block; }

[type="file"] + label:hover {
  background: #0076FF; }

.filter-buttons button,
.editor-buttons button {
  margin: 4px;
  background: black;
  border: none;
  color: white;
  font-family: Arial, Helvetica, sans-serif;
  padding: 8px 12px;
  border-radius: 4px;
  font-size: 1em; }

.filter-buttons button.disabled {
  background: #aaa; }

.filter-buttons button {
  padding: 2px 10px;
  margin: 0;
  cursor: pointer;
  background: transparent;
  border-style: solid;
  border-width: 1px;
  border-color: #0076FF;
  color: #0076FF;
  margin-top: 10px; }

.filter-buttons button:hover {
  background-color: #0076FF;
  color: white; }

.editor-buttons #reset-btn {
  background: #0076FF; }

.editor-buttons #download-btn {
  background: #0076FF; }

.editor-buttons button:hover {
  background: #0076FF;
  cursor: pointer; }

.editor-buttons {
  display: inline-block;
  margin-top: 10px; }

.filter-name {
  color: #0076FF;
  padding: 2px;
  display: inline-block;
  width: 100px;
  border-radius: 3px;
  text-align: center;
  font-weight: 100;
  font-size: 12px; }

.filter-group {
  display: inline-block;
  margin: 5px 15px; }

#openPresets > button {
  width: 80%;
  padding: 10px;
  margin: 5px;
  background: transparent;
  border-style: solid;
  border-width: 1px;
  border-color: #0076FF;
  color: #0076FF;
  cursor: pointer; }

#openPresets > button:hover {
  width: 80%;
  padding: 10px;
  margin: 5px;
  background: #0076FF;
  color: white;
  cursor: pointer; }

canvas {
  margin-bottom: 40px;
  background: #BFC4D1;
  width: auto;
  max-height: 80vh;
  max-width: 60vw;
  margin-top: 50px;
  background-image: url("https://source.unsplash.com/800x600/?pineapple");
  background-repeat: none;
  background-size: cover;
  position: inherit;
  display: flex row center;
  justify-content: center;
  box-shadow: 4px 4px 15px 4px rgba(0, 0, 0, 0.2); }

#canvasBefore {
  margin-bottom: 40px;
  width: auto;
  max-height: 80vh;
  max-width: 60vw;
  position: inherit;
  display: flex row center;
  justify-content: center; }

#canvasBeforeSection > h2 {
  margin-bottom: -45px;
  font-family: Helvetica;
  font-weight: 100; }

.display-none {
  display: none !important; }

.display-inline {
  display: inline !important; }

@media screen and (max-width: 600px) {
  canvas {
    min-height: 100%; } }

@media screen and (max-width: 1200px) {
  canvas {
    min-height: 100%; } }

@media screen and (min-width: 1201px) {
  canvas {
    min-height: 550px; } }

h1 {
  margin: 10px 0 0 0;
  font-size: 2em; }

    </style>
</head>
<body>

    <div class="nav-side" id="mobileMenu">

            <!-- STEP ADJUSTMENT SECTION -->
            <div id="openSteps" class="sidenav">
                <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
                <p>Steps</p>
                <div class="filter-buttons">
                        <button id="curveOne">1</button>
                        <button id="curveTwo">2</button>
                        <span class="filter-name">Curve</span>
                        <button id="curveThree">3</button>
                        <button id="curveFour">4</button>
                    </div>
                <div class="filter-buttons">
                            <button id="brightness-dec">-</button>
                            <span class="filter-name">Brightness</span>
                            <button id="brightness-inc">+</button>
                        </div>
                        <div class="filter-buttons">
                                <button id="contrast-dec">-</button>
                            <span class="filter-name">Contrast</span>
                            <button id="contrast-inc">+</button>
                        </div>
                        <div class="filter-buttons">
                                <button id="saturation-dec">-</button>
                            <span class="filter-name">Saturation</span>
                            <button id="saturation-inc">+</button>
                        </div>
                        <div class="filter-buttons">
                                <button id="vibrance-dec">-</button>
                            <span class="filter-name">Vibrance</span>
                            <button id="vibrance-inc">+</button>
                        </div>
                        <div class="filter-buttons">
                                <button id="exposure-dec">-</button>
                            <span class="filter-name">Exposure</span>
                            <button id="exposure-inc">+</button>
                        </div>
                        <div class="filter-buttons">
                                <button id="noise-dec" class="disabled">-</button>
                            <span class="filter-name">Noise</span>
                            <button id="noise-inc">+</button>
                        </div>
                        <div class="filter-buttons">
                                <button id="sharpen-dec" class="disabled">-</button>
                            <span class="filter-name">Sharpen</span>
                            <button id="sharpen-inc">+</button>
                        </div>
                        <div class="filter-buttons">
                                <button id="sepia-dec" class="disabled">-</button>
                            <span class="filter-name">Sepia</span>
                            <button id="sepia-inc">+</button>
                        </div>
                        <div class="filter-buttons">
                                <button id="hue-dec" class="disabled">-</button>
                            <span class="filter-name">Hue</span>
                            <button id="hue-inc">+</button>
                        </div>
                        <div class="filter-buttons">
                                <button id="blur-dec" class="disabled">-</button>
                            <span class="filter-name">Blur</span>
                            <button id="blur-inc">+</button>
                        </div>
                        <div class="filter-buttons">
                                <button id="gamma-dec" class="disabled">-</button>
                            <span class="filter-name">Gamma</span>
                            <button id="gamma-inc">+</button>
                        </div>
                        <div class="filter-buttons">
                                <button id="clip-dec" class="disabled">-</button>
                            <span class="filter-name">Clip</span>
                            <button id="clip-inc">+</button>
                        </div>
            </div>

            <!-- RANGE SLIDERS -->
            <div id="openRange" class="sidenav">
                <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
                <p>Range</p>
                <div class="range-slider">
                        <label for="exposure">Exposure</label>
                        <div class="range-group">
                        <input class="range-slider__range" id="exposure" name="exposure" type="range" min="-50" max="50" value="0">
                        <span class="range-slider__value">0</span>
                        </div>
                </div>
                <div class="range-slider">
                        <label for="brightness">Brightness</label>
                        <div class="range-group">
                        <input class="range-slider__range" id="brightness" name="brightness" type="range" min="-50" max="50" value="0">
                        <span class="range-slider__value">0</span>
                        </div>
                </div>
                <div class="range-slider">
                    <label for="contrast">Contrast</label>
                    <div class="range-group">
                    <input class="range-slider__range" id="contrast" name="contrast" type="range" min="-50" max="50" value="0">
                    <span class="range-slider__value">0</span>
                    </div>
                </div>
                <div class="range-slider">
                    <label for="sepia">Sepia</label>
                    <div class="range-group">
                    <input class="range-slider__range" id="sepia" name="sepia" type="range" min="0" max="100" value="0">
                    <span class="range-slider__value">0</span>
                    </div>
                </div>

                <div class="range-slider">
                        <label for="saturation">Saturation</label>
                        <div class="range-group">
                        <input class="range-slider__range" id="saturation" name="saturation" type="range" min="-100" max="100" value="0">
                        <span class="range-slider__value">0</span>
                        </div>
                </div>
                <div class="range-slider">
                        <label for="vibrance">Vibrance</label>
                        <div class="range-group">
                        <input class="range-slider__range" id="vibrance" name="vibrance" type="range" min="-100" max="100" value="0">
                        <span class="range-slider__value">0</span>
                        </div>
                </div>
                <div class="range-slider">
                        <label for="hue">Hue</label>
                        <div class="range-group">
                        <input class="range-slider__range" id="hue" name="hue" type="range" min="-100" max="100" value="0">
                        <span class="range-slider__value">0</span>
                        </div>
                </div>
                <div class="range-slider">
                        <label for="vignetteSize">Vignette Size</label>
                        <div class="range-group">
                        <input class="range-slider__range" id="vignetteSize" name="vignetteSize" type="range" min="0" max="1000" value="0">
                        <span class="range-slider__value">0</span>
                        </div>
                </div>
                <div class="range-slider">
                        <label for="vignetteStrength">Vignette Strength</label>
                        <div class="range-group">
                        <input class="range-slider__range" id="vignetteStrength" name="vignetteStrength" type="range" min="0" max="70" value="0">
                        <span class="range-slider__value">0</span>
                        </div>
                </div>
                <div class="range-slider">
                        <label for="sharpen">Sharpen</label>
                        <div class="range-group">
                        <input class="range-slider__range" id="sharpen" name="sharpen" type="range" min="-50" max="50" value="0">
                        <span class="range-slider__value">0</span>
                        </div>
                </div>
                <div class="range-slider">
                        <label for="noise">Noise</label>
                        <div class="range-group">
                        <input class="range-slider__range" id="noise" name="noise" type="range" min="-7" max="7" value="0">
                        <span class="range-slider__value">0</span>
                        </div>
                </div>
                <div class="range-slider">
                        <label for="blur">Blur</label>
                        <div class="range-group">
                        <input class="range-slider__range" id="blur" name="blur" type="range" min="-5" max="5" value="0">
                        <span class="range-slider__value">0</span>
                        </div>
                </div>

                <div class="range-slider">
                        <label for="red">Red</label>
                        <div class="range-group">
                        <input class="range-slider__range" id="red" name="red" type="range" min="-20" max="20" value="0">
                        <span class="range-slider__value">0</span>
                        </div>
                </div>
                <div class="range-slider">
                        <label for="red">Blue</label>
                        <div class="range-group">
                        <input class="range-slider__range" id="blue" name="blue" type="range" min="-20" max="20" value="0">
                        <span class="range-slider__value">0</span>
                        </div>
                </div>
                <div class="range-slider">
                        <label for="red">Green</label>
                        <div class="range-group">
                        <input class="range-slider__range" id="green" name="green" type="range" min="-20" max="20" value="0">
                        <span class="range-slider__value">0</span>
                        </div>
                </div>
            </div>

            <!-- PRESET SECTION -->
            <div id="openPresets" class="sidenav">
                <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
                <p>Presets</p>
                <button id="vintage-btn">Vintage</button>
                <button id="lomo-btn">Lomo</button>
                <button id="clarity-btn">Clarity</button>
                <button id="sincity-btn">Sin City</button>
                <button id="crossprocess-btn">Cross Process</button>
                <button id="pinhole-btn">Pinhole</button>
                <button id="nostalgia-btn">Nostalgia</button>
                <button id="majestic-btn">Her Majesty</button>
            </div>


            <!-- RANGE SLIDERS -->
                <div id="openAbout" class="aboutNav">
                    <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
                    <p>About.</p>
                    <p>Waltir.com – General about section...</p>
                </div>
                      
            <h1 class="nav-logo" style="margin-bottom:50px;padding:10px;">waltir</h1>
            <div style="font-size:30px;cursor:pointer" onclick="openRange()"><i class="fa fa-sliders" aria-hidden="true"></i></div>
            <div style="font-size:30px;cursor:pointer" onclick="openPresets()"><i class="fa fa-camera-retro" aria-hidden="true"></i></div>
            <div style="font-size:30px;cursor:pointer" onclick="toggleFunction()" id="canvasBeforeBtn"><i class="fa fa-eye" aria-hidden="true"></i></div>
            <!-- <div style="font-size:30px;cursor:pointer" onclick="openSteps()"><i class="fa fa-adjust" aria-hidden="true"></i></div> -->
            
            <div style="margin-top:25px;">
                <input type="file" id="upload-file" placeholder=""/>
                <label for="upload-file" style="background-color:transparent;margin-bottom:-5px;font-size:30px;cursor:pointer;"><i class="fa fa-upload" aria-hidden="true"></i></label>
            </div>
            <div style="font-size:30px;cursor:pointer" id="download-btn"><i class="fa fa-save" aria-hidden="true"></i></div>
            <div style="font-size:30px;cursor:pointer" id="reset-btn"><i class="fa fa-undo" aria-hidden="true"></i></div>
            <div style="font-size:30px;cursor:pointer" onclick="openAbout()"><i class="fa fa-gear" aria-hidden="true"></i></div>

            <div class="filter-buttons" style="margin-top:25px;">
                <span id="black-btn"><i class="fa fa-square" aria-hidden="true"></i></span>
                <span id="white-btn"><i class="fa fa-square-o" aria-hidden="true"></i></span>
            </div>
        </div>
    <a href="javascript:void(0)" class="mobileMenuBtn" onclick="openMobileMenu()"><i class="fa fa-bars" aria-hidden="true"></i></a>
    <div class="preview-wrapper">
        <canvas id="canvas"></canvas>
        <div id="canvasBeforeSection" style="display: none;">
            <h2>Before</h2>
            <canvas id="canvasBefore"></canvas>
        </div>
    </div>
    <div class="nav-bottom">
            <a href="javascript:void(0)" class="mobileMenuCloseBtn" onclick="closeMobileMenu()">[x]</a>
            <p class="nav-bottom_items">© 2019 waltir.com</p>
    </div>
<script>
var img = new Image();
var canvas = document.getElementById("canvas");
var ctx = canvas.getContext("2d");
var canvasBefore = document.getElementById("canvasBefore");
var ctxBefore = canvasBefore.getContext("2d");
var fileName = "";

$(document).ready(function() {

$('input[type=range]').change(applyFilters);
function applyFilters() {

  var exposure = parseInt($('#exposure').val());
  var brightness = parseInt($('#brightness').val());

  var cntrst = parseInt($('#contrast').val());
  var saturation = parseInt($('#saturation').val());
  var vibrance = parseInt($('#vibrance').val());
  var hue = parseInt($('#hue').val());
  var vignetteSize = parseInt($('#vignetteSize').val());
  var vignetteStrength = parseInt($('#vignetteStrength').val());

  var spia = parseInt($('#sepia').val());
//   var greyscale = parseInt($('#greyscale').val());

  var sharpen = parseInt($('#sharpen').val());
  var noise = parseInt($('#noise').val());

  var redSlider = parseInt($('#red').val());
  var blueSlider = parseInt($('#blue').val());
  var greenSlider = parseInt($('#green').val());  
  Caman('#canvas', img, function() {
            this.revert(false);
            this.vignette(vignetteSize, vignetteStrength).hue(hue).brightness(brightness).noise(noise).sharpen(sharpen).contrast(cntrst).saturation(saturation).vibrance(vibrance).sepia(spia).exposure(exposure).channels({red:redSlider}).channels({blue:blueSlider}).channels({green:greenSlider}).render();
    });
}
$("#crossprocess-btn").on("click", function(e) {
    Caman("#canvas", img, function() {
      this.revert(true);
      this.crossProcess().render();
    });
  });

    $("#curveOne").on("click", function(e) {
        Caman("#canvas", img, function() {
            this.curves('rgb', [0, 0], [100, 100], [150, 150], [255, 255]).render();
        });
    });
     $("#curveTwo").on("click", function(e) {
        Caman("#canvas", img, function() {
        this.curves('rgb', [10, 10], [80, 80], [180, 130], [255, 255]).render();
        });
    });
  $("#curveThree").on("click", function(e) {
    Caman("#canvas", img, function() {
        this.curves('rgb', [20, 20], [100, 100], [180, 180], [255, 255]).render();
  });
});
  $("#curveFour").on("click", function(e) {
    Caman("#canvas", img, function() {
        this.curves('rgb', [30, 30], [80, 80], [180, 180], [245, 245]).render();
  });
});

  $("#red-inc").on("click", function(e) {
    Caman("#canvas", img, function() {
        this.channels({red: 5}).render();});
  });
  $("#red-dec").on("click", function(e) {
    Caman("#canvas", img, function() {
        this.channels({red: -5}).render();});
  });

  $("#brightness-inc").on("click", function(e) {
    Caman("#canvas", img, function() {
      this.brightness(10).render();
    });
  });

  $("#brightness-dec").on("click", function(e) {
    Caman("#canvas", img, function() {
      this.brightness(-10).render();
      console.log('brightness -10');
    });
  });

  $("#contrast-inc").on("click", function(e) {
    Caman("#canvas", img, function() {
      this.contrast(10).render();
    });
  });

  $("#contrast-dec").on("click", function(e) {
    Caman("#canvas", img, function() {
      this.contrast(-10).render();
      console.log('contrast -10');
    });
  });

  $("#saturation-inc").on("click", function(e) {
    Caman("#canvas", img, function() {
      this.saturation(10).render();
      console.log('saturation +10');
    });
  });

  $("#saturation-dec").on("click", function(e) {
    Caman("#canvas", img, function() {
      this.saturation(-10).render();
      console.log('saturation -10');
    });
  });

  $("#vibrance-inc").on("click", function(e) {
    Caman("#canvas", img, function() {
      this.vibrance(10).render();
      console.log('vibrance +10');
    });
  });

  $("#vibrance-dec").on("click", function(e) {
    Caman("#canvas", img, function() {
      this.vibrance(-10).render();
    });
  });

  $("#exposure-inc").on("click", function(e) {
    Caman("#canvas", img, function() {
      this.exposure(10).render();
    });
  });

  $("#exposure-dec").on("click", function(e) {
    Caman("#canvas", img, function() {
      this.exposure(-10).render();
    });
  });

  $("#noise-inc").on("click", function(e) {
    Caman("#canvas", img, function() {
      this.noise(10).render();
    });
  });

  $("#sharpen-inc").on("click", function(e) {
    Caman("#canvas", img, function() {
      this.sharpen(10).render();
    });
  });

  $("#sepia-inc").on("click", function(e) {
    Caman("#canvas", img, function() {
      this.sepia(20).render();
    });
  });

  $("#hue-inc").on("click", function(e) {
    Caman("#canvas", img, function() {
      this.hue(10).render();
    });
  });

  $("#blur-inc").on("click", function(e) {
    Caman("#canvas", img, function() {
      this.stackBlur(5).render();
    });
  });

  $("#gamma-inc").on("click", function(e) {
    Caman("#canvas", img, function() {
      this.gamma(0.1).render();
    });
  });

  $("#clip-inc").on("click", function(e) {
    Caman("#canvas", img, function() {
      this.clip(10).render();
    });
  });

  $("#vintage-btn").on("click", function(e) {
    Caman("#canvas", img, function() {
      this.vintage().render();
    });
  });

  $("#lomo-btn").on("click", function(e) {
    Caman("#canvas", img, function() {
      this.revert(false);
      this.lomo().render();
    });
  });

  $("#calrity-btn").on("click", function(e) {
    Caman("#canvas", img, function() {
      this.revert(false);
      this.clarity().render();
    });
  });

  $("#sincity-btn").on("click", function(e) {
    Caman("#canvas", img, function() {
      this.revert(false);
      this.sinCity().render();
    });
  });

  $("#pinhole-btn").on("click", function(e) {
    Caman("#canvas", img, function() {
      this.revert(false);
      this.pinhole().render();
    });
  });

  $("#nostalgia-btn").on("click", function(e) {
    Caman("#canvas", img, function() {
      this.revert(false);
      this.nostalgia().render();
      console.log('nostalgia');
    });
  });

  $("#majestic-btn").on("click", function(e) {
    Caman("#canvas", img, function() {
      this.revert(false);
      this.herMajesty().render();
    });
  });

$("#reset-btn").on("click", function(e) {
    Caman("#canvas", img, function() {
      this.reset();
      console.log('Image reset')
    });
});

$("#reset-canvas-btn").on("click", function(e) {
    Caman("#canvas", img, function() {
      this.flush('#canvas');
      console.log('Image reset')
    });
});

  $("#download-btn").on("click", function(e) {
    var fileExtension = fileName.slice(-4);
    if (fileExtension == ".jpg" || fileExtension == ".png") {
      var actualName = fileName.substring(0, fileName.length - 4);
    }
    download(canvas, actualName + "-edited.jpg");
  });

  $("#upload-file").on("change", function() {
    var file = document.querySelector("#upload-file").files[0];
    var reader = new FileReader();
    console.log('Image uploaded');

    if (file) {
      fileName = file.name;
      reader.readAsDataURL(file);
    }

    reader.addEventListener(
      "load",
      function() {
        img = new Image();
        img.src = reader.result;
        img.onload = function() {
          canvas.width = img.width;
          canvas.height = img.height;
          ctx.drawImage(img, 0, 0, img.width, img.height);
          $("#canvas").removeAttr("data-caman-id");

          canvasBefore.width = img.width;
          canvasBefore.height = img.height;
          ctxBefore.drawImage(img, 0, 0, img.width, img.height);
          $("#canvas-before").removeAttr("data-caman-id");
        };
      },
      false
    );
  });
});

function download(canvas, filename) {
  var e;
  var lnk = document.createElement("a");
  console.log('Image downloaded');

  lnk.download = filename;

  lnk.href = canvas.toDataURL("image/jpeg", 0.8);

  if (document.createEvent) {
    e = document.createEvent("MouseEvents");
    e.initMouseEvent(
      "click",
      true,
      true,
      window,
      0,
      0,
      0,
      0,
      0,
      false,
      false,
      false,
      false,
      0,
      null
    );
    lnk.dispatchEvent(e);
  } else if (lnk.fireEvent) {
    lnk.fireEvent("onclick");
  }
}


$("#black-btn").on("click", function(e) {
    $('body').css("background-color","black")
    $('#canvasBeforeSection > h2').css("color","white")
    console.log('Setting black background');
});
$("#white-btn").on("click", function(e) {
    $('body').css("background-color","white")
    $('#canvasBeforeSection > h2').css("color","black")
    console.log('Setting white background');
});

var rangeSlider = function(){
  var slider = $('.range-slider'),
      range = $('.range-slider__range'),
      value = $('.range-slider__value');
    
  slider.each(function(){

    value.each(function(){
      var value = $(this).prev().attr('value');
      $(this).html(value);
    });

    range.on('input', function(){
      $(this).next(value).html(this.value);
    });
  });
};
rangeSlider();

function toggleFunction() {
    $("#canvasBeforeSection").toggleClass("display-none");    
    $("#canvasBeforeSection").toggleClass("display-inline");
}

function openMobileMenu() {
    document.getElementById("mobileMenu").style.display = "block";
}
function closeMobileMenu() {
    document.getElementById("mobileMenu").style.display = "none";
}
function openSteps() {
    document.getElementById("openSteps").style.width = "200px";
}
function openRange() {
    document.getElementById("openRange").style.width = "200px";
}
function openPresets() {
    document.getElementById("openPresets").style.width = "200px";
}

function openAbout() {
    document.getElementById("openAbout").style.height = "100%";
}

function closeNav() {
    document.getElementById("openSteps").style.width = "0";
    document.getElementById("openRange").style.width = "0";
    document.getElementById("openPresets").style.width = "0";
    document.getElementById("openAbout").style.height = "0";
}

</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
</body>
</html>
